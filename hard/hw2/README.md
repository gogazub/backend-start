# Возводим стены проекта! 

## Хрен вам, а не ресурсы! 

Мы уже говорили ранее, что мы не хотим, чтобы какие-то рандомные люди использовали наши ресурсы! Давайте поэтому введем аунтефикацию.  

API аунтефикации: 

1. `POST /register, body: json{username,password}`: Регистрация нового пользователя.
2. `POST /login, body: json{username,password}`: Аутентификация пользователя и генерация токена.

Всем пользователям, которые обращаются к серверу без токена нужно отвечать `401 Unauthorized`.  
В качестве системы аунтефикации возьмите в основу модель сессий. Пользователь будет класть токен в хедер запроса 'Authorization' ('Authorization': Bearer {auth_token}).  

У вас был тип `Task`, теперь будет тип `User` = `struct User { id, login, password }`, `Session` - `struct Session {user_id, session_id}`. Добавьте в имеющийся слои соответствующие методы для новых типов (их еще любят называть моделями, хотя Анджелиной Джоли тут и не пахнет).  

# Материалы

[Как можно работать с сессиями](https://astaxie.gitbooks.io/build-web-application-with-golang/content/en/06.2.html) - можете отсюда посмотреть, как генерировать SessionID.    
